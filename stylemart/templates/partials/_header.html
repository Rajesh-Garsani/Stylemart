{% load currency %}
<header class="site-header">
  <div class="header-inner">

    {# Left: Home button #}
    <div id="home-button">
      <a href="{% url 'home' %}">Home</a>
    </div>




    {# Middle: Categories #}
    <nav class="main-categories flex-grow-1">
      <ul>
        {% for category in categories %}
          <li><a href="{% url 'category_detail' category.slug %}">{{ category.name }}</a></li>

        {% endfor %}
      </ul>
    </nav>

    {# Right: Cart + Profile/Login #}
    <div class="header-actions">
      <a href="{% url 'view_cart' %}" class="btn btn-cart">
        <i class="fas fa-shopping-cart"></i>
        {% if user.is_authenticated %}
          {% with cart_count=user.cart_set.count %}
            {% if cart_count > 0 %}
              <span class="badge bg-danger">{{ cart_count }}</span>
            {% endif %}
          {% endwith %}
        {% endif %}
      </a>

      <!-- Profile Dropdown -->
<div class="dropdown">
  <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="profileDropdown"
     data-bs-toggle="dropdown" aria-expanded="false">
    <i class="fas fa-user"></i> Profile
  </a>

  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
    {% if user.is_authenticated %}
      <li><a class="dropdown-item" href="{% url 'logout' %}">Logout</a></li>
      <li><a class="dropdown-item" href="{% url 'order_history' %}">My Orders</a></li>
    {% else %}
      <li><a class="dropdown-item" href="{% url 'login' %}">Login</a></li>
      <li><a class="dropdown-item" href="{% url 'signup' %}">Signup</a></li>
    {% endif %}
  </ul>
</div>

    </div>

  </div>
</header>
